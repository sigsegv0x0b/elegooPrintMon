# Elegoo Print Monitor Configuration
# Copy this file to .env and update the values

# ============================================
# Printer Configuration
# ============================================

# MJPEG stream URL from your Elegoo Centauri Carbon printer
MJPEG_STREAM_URL=http://192.168.10.179:3031/video

# Frame capture interval in milliseconds (default: 10 seconds)
FRAME_CAPTURE_INTERVAL=10000

# Printer IP address for SDCP WebSocket API (for printer status module)
# Leave empty to disable printer status functionality
PRINTER_IP=192.168.10.179

# ============================================
# LLM Configuration (LM Studio)
# ============================================

# LM Studio OpenAI-compatible API URL (default: localhost:1234)
OPENAI_URL=http://localhost:1234/v1

# API token if required by LM Studio (usually empty for local)
OPENAI_TOKEN=

# Model to use for analysis (smolvlm2-2.2b-instruct recommended)
LLM_MODEL=smolvlm2-2.2b-instruct

# LLM mode: 'enabled' for AI analysis, 'disabled' for frame capture only
LLM_MODE=enabled

# ============================================
# Telegram Configuration (Optional)
# ============================================

# Bot token from @BotFather (leave empty to disable notifications)
TELEGRAM_BOT_TOKEN=your_bot_token_here

# Chat ID to send notifications to (get from @getidsbot or /getUpdates)
TELEGRAM_CHAT_ID=your_chat_id_here

# Confidence threshold for sending notifications (0.0-1.0)
NOTIFICATION_THRESHOLD=0.8

# Alert level for automatic notifications: all, warning, critical, none
# - 'all': Send alerts for all statuses (good, warning, critical, error)
# - 'warning': Send alerts for warning, critical, and error
# - 'critical': Send alerts only for critical and error (default)
# - 'none': Disable all automatic alerts (use commands only)
TELEGRAM_ALERT_LEVEL=critical

# ============================================
# Application Settings
# ============================================

# Log level: error, warn, info, debug
LOG_LEVEL=info

# Maximum retry attempts for failed operations
MAX_RETRIES=3

# Delay between retries in milliseconds
RETRY_DELAY=5000

# Seconds to wait after LLM reply before next capture (prevents LLM overload)
LLM_COOLDOWN_SECONDS=10

# ============================================
# PrintGuard Configuration (Optional)
# ============================================

# Enable PrintGuard-based print failure detection (true/false)
USE_PRINTGUARD=false

# Sensitivity for PrintGuard detection (1.0 = default, lower = more sensitive)
PRINTGUARD_SENSITIVITY=1.0

# Path to PrintGuard ONNX model (relative to project root)
PRINTGUARD_MODEL_PATH=./models/model.onnx

# Path to PrintGuard prototypes JSON file
PRINTGUARD_PROTOTYPES_PATH=./models/prototypes/prototypes.json

# ============================================
# Example configurations for different scenarios
# ============================================

# For faster monitoring (5 second intervals)
# FRAME_CAPTURE_INTERVAL=5000

# For slower monitoring (30 second intervals)
# FRAME_CAPTURE_INTERVAL=30000

# For more sensitive notifications (lower threshold)
# NOTIFICATION_THRESHOLD=0.7

# For less sensitive notifications (higher threshold)
# NOTIFICATION_THRESHOLD=0.9

# For debugging
# LOG_LEVEL=debug

# ============================================
# Notes:
# ============================================
# 1. MJPEG_STREAM_URL is required
# 2. Telegram credentials are optional - if not provided, system will run in logging-only mode
# 3. Make sure LM Studio is running with the specified model loaded
# 4. Update IP addresses to match your network configuration